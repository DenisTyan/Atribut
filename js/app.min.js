$((function(){function t(t){if(t.addClass("err"),t.parent().addClass("err"),t.parent().find(".form__error").remove(),t.hasClass("email")){var e="";null!=(e=(""==t.val()||(t.val(),t.attr("data-value")),t.data("error")))&&t.parent().append('<div class="form__error">'+e+"</div>")}else null!=t.data("error")&&0==t.parent().find(".form__error").length&&t.parent().append('<div class="form__error">'+t.data("error")+"</div>");t.parents(".select-block").length>0&&(t.parents(".select-block").parent().addClass("err"),t.parents(".select-block").find(".select").addClass("err"))}function e(t){t.removeClass("err"),t.parent().removeClass("err"),t.parent().find(".form__error").remove(),t.parents(".select-block").length>0&&(t.parents(".select-block").parent().removeClass("err"),t.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}$(".header__icon").click((function(t){$(this).toggleClass("_active"),$(".header__menu").toggleClass("_active"),$(this).hasClass("_active")&&$("body").data("scroll",$(window).scrollTop()),$("body").toggleClass("_lock"),$(this).hasClass("_active")||$("body,html").scrollTop(parseInt($("body").data("scroll")))})),$(".header__link").click((function(t){$(this).toggleClass("_active"),$(".header__menu").removeClass("_active"),$(".header__icon").removeClass("_active"),$(this).hasClass("_active")&&$("body").data("scroll",$(window).scrollTop()),$("body").removeClass("_lock"),$(this).hasClass("_active")||$("body,html").scrollTop(parseInt($("body").data("scroll")))})),$.each($(".spoller._active"),(function(t,e){$(this).next().show()})),$("body").on("click",".spoller",(function(t){return $(this).hasClass("mob")&&!isMobile.any()||($(this).parents(".one").length>0&&($(this).parents(".one").find(".spoller").not($(this)).removeClass("_active").next().slideUp(300),$(this).parents(".one").find(".spoller").not($(this)).parent().removeClass("_active")),$(this).hasClass("closeall")&&!$(this).hasClass("_active")&&$.each($(this).closest(".spollers").find(".spoller"),(function(t,e){$(this).removeClass("_active"),$(this).next().slideUp(300)})),$(this).toggleClass("_active").next().slideToggle(300,(function(t,e){$(this).parent().find(".slick-slider").length>0&&$(this).parent().find(".slick-slider").slick("setPosition")}))),!1})),$("input,textarea").focus((function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),e($(this))})),$("input[data-value], textarea[data-value]").each((function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click((function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")})),$(this).blur((function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))}))})),$("form button[type=submit]").click((function(a){a.preventDefault();var s=0,r=$(this).parents("form"),l=r.data("ms");return $.each(r.find(".req"),(function(a,r){s+=function(a){var s=0,r=a.parents("form");if("email"==a.attr("name")||a.hasClass("email")){if(a.val()!=a.attr("data-value")){var l=a.val().replace(" ","");a.val(l)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(a.val())&&a.val()!=a.attr("data-value")?e(a):(s++,t(a))}else""==a.val()||a.val()==a.attr("data-value")?(s++,t(a)):e(a);"checkbox"==a.attr("type")&&(1==a.prop("checked")?a.removeClass("err").parent().removeClass("err"):(s++,a.addClass("err").parent().addClass("err")));a.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(a.val())||(s++,t(a)));a.hasClass("pass-2")&&(r.find(".pass-1").val()!=r.find(".pass-2").val()?t(a):e(a));return s}($(this))})),0==s&&($("#modal").addClass("_active"),function(t){t.find(".form__generalerror").hide().html("")}(r),$("#form").trigger("reset"),null!=l&&""!=l?(function(t){$(".popup").hide(),popupOpen("message."+t,"")}(l),!1):void 0)})),$("._goto").click((function(){var t=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+t).offset().top+0},500,(function(){})),$(".header__menu").hasClass("_active")&&($(".header__menu, .header__icon").removeClass("_active"),$("body").removeClass("_lock")),!1})),$('input[type="tel"]').inputmask("+9(999)9999999"),function(){let t=[],e=document.querySelectorAll("[data-da]"),a=[],s=[];if(e.length>0){let o=0;for(let s=0;s<e.length;s++){const r=e[s],n=r.getAttribute("data-da");if(""!=n){const e=n.split(","),s=e[1]?e[1].trim():"last",c=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",h=document.querySelector("."+e[0].trim());e.length>0&&h&&(r.setAttribute("data-da-index",o),t[o]={parent:r.parentNode,index:(l=r,i=void 0,i=Array.prototype.slice.call(l.parentNode.children),i.indexOf(l))},a[o]={element:r,destination:document.querySelector("."+e[0].trim()),place:s,breakpoint:c,type:d},o++)}}(r=a).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),r.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<a.length;t++){const e=a[t],r=e.breakpoint,l=e.type;s.push(window.matchMedia("("+l+"-width: "+r+"px)")),s[t].addListener(n)}}var r,l,i;function n(t){for(let t=0;t<a.length;t++){const e=a[t],r=e.element,l=e.destination,i=e.place,n="_dynamic_adapt_"+e.breakpoint;if(s[t].matches){if(!r.classList.contains(n)){let t=c(l)[i];"first"===i?t=c(l)[0]:"last"===i&&(t=c(l)[c(l).length]),l.insertBefore(r,l.children[t]),r.classList.add(n)}}else r.classList.contains(n)&&(o(r),r.classList.remove(n))}}function o(e){const a=e.getAttribute("data-da-index"),s=t[a],r=s.parent,l=s.index,i=c(r,!0)[l];r.insertBefore(e,r.children[i])}function c(t,e){const a=t.children,s=[];for(let t=0;t<a.length;t++){const r=a[t];(e||null==r.getAttribute("data-da"))&&s.push(t)}return s}n()}()}));